Version 4
SHEET 1 1340 1764
WIRE 416 -592 160 -592
WIRE 160 -544 160 -592
WIRE 416 -512 416 -592
WIRE -32 -464 -96 -464
WIRE 160 -432 160 -464
WIRE -32 -384 -32 -464
WIRE -32 -384 -752 -384
WIRE 0 -384 -32 -384
WIRE 96 -384 80 -384
WIRE 416 -352 416 -432
WIRE 160 -304 160 -336
WIRE 160 -304 80 -304
WIRE -224 -272 -544 -272
WIRE -32 -272 -32 -384
WIRE 0 -272 -32 -272
WIRE 80 -272 80 -304
WIRE 160 -272 160 -304
WIRE -544 -224 -544 -272
WIRE -752 -96 -752 -384
WIRE -544 -96 -544 -144
WIRE -544 -96 -752 -96
WIRE -224 -96 -224 -272
WIRE -224 -96 -352 -96
WIRE 16 -96 -224 -96
WIRE 320 -96 16 -96
WIRE 464 -96 320 -96
WIRE -224 -48 -224 -96
WIRE -544 -32 -544 -96
WIRE 464 -32 464 -96
WIRE -704 16 -752 16
WIRE -608 16 -624 16
WIRE -224 80 -224 32
WIRE 64 80 -224 80
WIRE 320 80 320 -96
WIRE 320 80 288 80
WIRE -544 128 -544 64
WIRE -224 128 -224 80
WIRE 64 144 -32 144
WIRE 464 144 464 48
WIRE 464 144 288 144
WIRE 928 144 464 144
WIRE -752 208 -752 16
WIRE -128 208 -752 208
WIRE 64 208 -128 208
WIRE 368 208 288 208
WIRE 464 208 464 144
WIRE 928 208 928 144
WIRE 16 272 16 -96
WIRE 64 272 16 272
WIRE 320 272 288 272
WIRE -128 304 -128 208
WIRE -128 304 -176 304
WIRE -32 352 -32 144
WIRE 368 352 368 208
WIRE 368 352 -32 352
WIRE 464 352 464 288
WIRE 464 352 368 352
WIRE 320 384 320 272
WIRE 464 384 464 352
WIRE 320 480 320 448
WIRE 320 480 -64 480
WIRE 464 480 464 448
WIRE 464 480 320 480
WIRE 320 512 320 480
WIRE 928 576 928 288
WIRE 928 576 736 576
WIRE -416 640 -688 640
WIRE -352 640 -352 -96
WIRE -352 640 -416 640
WIRE -256 640 -352 640
WIRE 0 640 -256 640
WIRE 320 640 0 640
WIRE 448 640 320 640
WIRE 448 672 448 640
WIRE -688 704 -688 640
WIRE -416 704 -416 640
WIRE -256 704 -256 640
WIRE -64 768 -64 480
WIRE 64 768 -64 768
WIRE 320 768 320 640
WIRE 320 768 288 768
WIRE -688 832 -688 784
WIRE -560 832 -688 832
WIRE -416 832 -416 784
WIRE -416 832 -496 832
WIRE -336 832 -416 832
WIRE -256 832 -256 768
WIRE -256 832 -336 832
WIRE 64 832 -256 832
WIRE 448 832 448 752
WIRE 448 832 288 832
WIRE -880 848 -896 848
WIRE -688 896 -688 832
WIRE 64 896 -64 896
WIRE 448 896 448 832
WIRE 448 896 288 896
WIRE -336 928 -336 832
WIRE -336 928 -384 928
WIRE -880 944 -880 848
WIRE -880 944 -960 944
WIRE -848 944 -880 944
WIRE -752 944 -768 944
WIRE 0 960 0 640
WIRE 0 960 -304 960
WIRE 64 960 0 960
WIRE 320 960 288 960
WIRE -960 976 -960 944
WIRE 928 992 928 576
WIRE -64 1040 -64 896
WIRE -64 1040 -112 1040
WIRE 592 1040 -64 1040
WIRE 704 1040 656 1040
WIRE 752 1040 704 1040
WIRE 864 1040 832 1040
WIRE -304 1056 -304 960
WIRE -304 1056 -544 1056
WIRE -960 1088 -960 1056
WIRE -688 1088 -688 992
WIRE -688 1088 -960 1088
WIRE 320 1088 320 960
WIRE 448 1088 448 896
WIRE -544 1120 -544 1056
WIRE -688 1136 -688 1088
WIRE 320 1200 320 1152
WIRE 448 1200 448 1152
WIRE 448 1200 320 1200
WIRE -544 1232 -544 1200
WIRE -448 1232 -544 1232
WIRE -800 1248 -848 1248
WIRE 320 1248 320 1200
WIRE 928 1248 928 1088
WIRE -544 1264 -544 1232
WIRE -800 1312 -800 1248
WIRE -800 1312 -960 1312
WIRE -704 1312 -800 1312
WIRE -608 1312 -624 1312
WIRE -448 1312 -448 1232
WIRE 592 1312 -448 1312
WIRE 704 1312 704 1040
WIRE 704 1312 656 1312
WIRE -960 1344 -960 1312
WIRE -960 1440 -960 1424
WIRE -544 1440 -544 1360
WIRE -544 1440 -960 1440
WIRE -544 1472 -544 1440
FLAG 320 512 0
FLAG -224 128 0
FLAG -688 1136 0
FLAG -896 848 WDI
IOPIN -896 848 In
FLAG -176 304 RESET
IOPIN -176 304 In
FLAG -112 1040 WDP
IOPIN -112 1040 In
FLAG 320 1248 0
FLAG 928 1248 0
FLAG 736 576 WDIS
IOPIN 736 576 In
FLAG -384 928 WTRIG
IOPIN -384 928 In
FLAG -848 1248 WDE
IOPIN -848 1248 In
FLAG -544 128 0
FLAG -96 -464 PWR-CTRL
IOPIN -96 -464 In
FLAG 160 -272 0
FLAG 416 -352 0
FLAG -544 1472 0
SYMBOL Misc\\NE555 176 176 R0
SYMATTR InstName U1
SYMBOL cap 304 384 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 448 -48 R0
SYMATTR InstName R1
SYMATTR Value 56k
SYMBOL cap 448 384 R0
SYMATTR InstName C2
SYMATTR Value 22µF
SYMBOL voltage -224 -64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -960 960 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 3.3 1 0 0 300ms 500ms 4)
SYMATTR InstName V2
SYMBOL npn -752 896 R0
SYMATTR InstName Q1
SYMBOL res -704 688 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -752 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 448 192 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 912 192 R0
SYMATTR InstName R3
SYMATTR Value 560
SYMBOL Misc\\NE555 176 864 R0
SYMATTR InstName U2
SYMBOL cap 304 1088 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL res 432 656 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL cap 432 1088 R0
SYMATTR InstName C4
SYMATTR Value 10µF
SYMBOL npn 864 992 R0
SYMATTR InstName Q2
SYMBOL res 848 1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res -432 688 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL diode -272 768 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap -496 816 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.1µ
SYMBOL diode 592 1056 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 592 1328 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL voltage -960 1328 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 3.3 0.5 0 0 5.5s 8s 1)
SYMATTR InstName V3
SYMBOL npn -608 -32 R0
SYMATTR InstName Q3
SYMBOL res -560 -240 R0
SYMATTR InstName R9
SYMATTR Value 1.2k
SYMBOL res -608 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 1.2k
SYMBOL npn 96 -432 R0
SYMATTR InstName Q4
SYMBOL res 144 -560 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 96 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res 96 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL voltage 416 -528 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL npn -608 1264 R0
SYMATTR InstName Q5
SYMBOL res -560 1104 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res -608 1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
TEXT -648 448 Left 2 !.tran 8s
TEXT 584 -136 Left 2 ;Tcharge = 0.693 x (R1+R2) x C2 (Watchdog timeout)\n \nTcharge = 0.693 x 60.7 x 22 = 925ms\n \n \n \nTdischarge = 0.693 x R2 x C2\n \nTdischarge = 0.693 x 4.7 x 22 = 72ms
TEXT -1136 792 Left 2 ;Keep Tperiod < 0.9 to avoid RESET
TEXT -184 1096 Left 2 ;Tout(high) = 1.1 x R4 x C4\n \nTout(high) = 1.1 x 10 x 10 = 110ms
TEXT -1088 1192 Left 2 ;High to enable watchdog
TEXT -328 -560 Left 2 ;Input stage of power control circuit
